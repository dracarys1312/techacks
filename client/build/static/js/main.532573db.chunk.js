(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,a){e.exports=a(52)},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),c=a.n(l),i=a(35),o=a(6),s=(a(43),a(44),a(45),a(17)),u=a(18),m=a(21),p=a(20),d=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{class:"navbar bg-primary navbar-light"},r.a.createElement("div",{class:"container d-flex justify-content-center"}," ",r.a.createElement("a",{class:"navbar-brand",href:"/"},"Maptivist")," "))}}]),a}(r.a.Component),h=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{class:"py-3 bg-primary"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 text-center d-md-flex justify-content-between align-items-center"},r.a.createElement("ul",{class:"nav d-flex justify-content-center"},r.a.createElement("li",{class:"nav-item"}," ",r.a.createElement("a",{class:"nav-link active",href:"/"},"Home")," "),r.a.createElement("li",{class:"nav-item"}," ",r.a.createElement("a",{class:"nav-link",href:"/about"},"About us")," "),r.a.createElement("li",{class:"nav-item"}," ",r.a.createElement("a",{class:"nav-link",href:"/"},"Terms of use")," "))))))}}]),a}(r.a.Component),b=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("div",{class:"py-5 bg-primary"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"px-md-5 p-3 col-md-6 d-flex flex-column align-items-start justify-content-center"},r.a.createElement("h1",null,"A platform for activists"),r.a.createElement("p",{class:"mb-3 lead"},"Mapivist is a platform to help activists spread the message and share information about happening activities in their local area. With Mapivist, we aim to raise people's awareness of the local issues as well as help activists gain media attention and find support they need.")),r.a.createElement("div",{class:"col-md-6"}," ",r.a.createElement("img",{class:"img-fluid d-block",src:"https://static.pingendo.com/img-placeholder-tablet.svg"}))))),r.a.createElement("div",{class:"py-5"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"px-5 col-md-8 text-center mx-auto"},r.a.createElement("h3",{class:"display-4 text-dark"}," ",r.a.createElement("b",null,"Pingendo")," "),r.a.createElement("h2",{class:"my-3"},"I am so happy, my dear friend."),r.a.createElement("p",{class:"mb-3"},"I throw myself down among the tall grass by the trickling stream; and, as I lie close to the earth, a thousand unknown plants are noticed by me: when I hear the buzz of the little world among the stalks, and grow familiar with the countless indescribable."))))),r.a.createElement(h,null))}}]),a}(r.a.Component),E=a(8),f=a(5),v=a.n(f),g=a(10),x=a(9),y=a(22),w="localhost"===window.location.hostname?"http://localhost:1337":"http://www.example.com/";function j(){return O.apply(this,arguments)}function O(){return(O=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/api/logs"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return M.apply(this,arguments)}function M(){return(M=Object(g.a)(v.a.mark((function e(t){var a,n,r,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"pk.eyJ1IjoibnB0aGFvMTMxMiIsImEiOiJja2R3bmxtc20wZWxtMnNvYTZucmoxaHFrIn0.iAJY26z0LeiOnALb0AaALQ",e.next=3,fetch("".concat(w,"/api/logs"),{method:"POST",headers:{"content-type":"application/json","X-API-KEY":"pk.eyJ1IjoibnB0aGFvMTMxMiIsImEiOiJja2R3bmxtc20wZWxtMnNvYTZucmoxaHFrIn0.iAJY26z0LeiOnALb0AaALQ"},body:JSON.stringify(t)});case 3:if(!(a=e.sent).headers.get("content-type").includes("text/html")){e.next=11;break}return e.next=7,a.text();case 7:r=e.sent,n={message:r},e.next=14;break;case 11:return e.next=13,a.json();case 13:n=e.sent;case 14:if(!a.ok){e.next=16;break}return e.abrupt("return",n);case 16:throw(l=new Error(n.message)).response=n,l;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=a(37),I=function(e){var t=e.location,a=e.onClose,l=Object(n.useState)(!1),c=Object(x.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)(""),u=Object(x.a)(s,2),m=u[0],p=u[1],d=Object(z.a)(),h=d.register,b=d.handleSubmit,E=function(){var e=Object(g.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),n.latitude=t.latitude,n.longitude=t.longitude,e.next=6,k(n);case 6:a(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),p(e.t0.message),o(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:b(E),className:"entry-form"},m?r.a.createElement("h3",{className:"error"},m):null,r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{name:"title",required:!0,ref:h}),r.a.createElement("label",{htmlFor:"organizer"},"Organizer"),r.a.createElement("input",{name:"organizer",rows:3,ref:h}),r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{name:"description",rows:3,ref:h}),r.a.createElement("label",{htmlFor:"externalLink"},"External Link"),r.a.createElement("input",{name:"externalLink",ref:h}),r.a.createElement("label",{htmlFor:"date"},"Date"),r.a.createElement("input",{name:"date",type:"date",required:!0,ref:h}),r.a.createElement("button",{disabled:i},i?"Loading...":"Host Event"))},C=function(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),i=Object(x.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)(null),m=Object(x.a)(u,2),p=m[0],b=m[1],f=Object(n.useState)({width:"100vw",height:"83.6vh",latitude:37.6,longitude:-95.665,zoom:3}),w=Object(x.a)(f,2),O=w[0],k=w[1],M=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){M()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(y.c,Object.assign({},O,{mapStyle:"mapbox://styles/npthao1312/ckdwonlqp3b5z19nw2pov1qth",mapboxApiAccessToken:"pk.eyJ1IjoibnB0aGFvMTMxMiIsImEiOiJja2R2dWZtbDQybWJ3MnptaDR5NWwwd243In0.j1wEWKVw0VyKuCwVjb4MKw",onViewportChange:k,onDblClick:function(e){var t=Object(x.a)(e.lngLat,2),a=t[0],n=t[1];b({latitude:n,longitude:a})}}),a.map((function(e){return r.a.createElement(r.a.Fragment,{key:e._id},r.a.createElement(y.a,{latitude:e.latitude,longitude:e.longitude},r.a.createElement("div",{onClick:function(){return s(Object(E.a)({},e._id,!0))}},r.a.createElement("svg",{className:"marker yellow",style:{height:"".concat(6*O.zoom,"px"),width:"".concat(6*O.zoom,"px")},version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512"},r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035 c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719 c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z"})))))),o[e._id]?r.a.createElement(y.b,{latitude:e.latitude,longitude:e.longitude,closeButton:!0,closeOnClick:!1,dynamicPosition:!0,onClose:function(){return s({})},anchor:"top"},r.a.createElement("div",{className:"popup"},r.a.createElement("h1",null,"Tile: ",e.title),r.a.createElement("h2",null,"Orginzer: ",e.organizer),r.a.createElement("p",null,"Description: ",e.description),r.a.createElement("p",null,"External Link: ",e.externalLink),r.a.createElement("small",null,"Happening on: ",new Date(e.date).toLocaleDateString()))):null)})),p?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{latitude:p.latitude,longitude:p.longitude},r.a.createElement("div",null,r.a.createElement("svg",{className:"marker red",style:{height:"".concat(6*O.zoom,"px"),width:"".concat(6*O.zoom,"px")},version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512"},r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035 c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719 c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z"})))))),r.a.createElement(y.b,{latitude:p.latitude,longitude:p.longitude,closeButton:!0,closeOnClick:!1,dynamicPosition:!0,onClose:function(){return b(null)},anchor:"top"},r.a.createElement("div",{className:"popup"},r.a.createElement(I,{onClose:function(){b(null),M()},location:p})))):null),r.a.createElement(h,null))},L=r.a.createElement(i.a,null,r.a.createElement(o.a,{path:"/",component:C}),r.a.createElement(o.a,{path:"/about",component:b}));c.a.render(L,document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.532573db.chunk.js.map